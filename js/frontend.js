chrome.storage.sync.get(["url"]).then(t=>{let e;(e=t.url?t.url.split(",").map(t=>t.trim()):["gitlab.com"]).forEach(r=>{if(r===window.location.host){var r=document.querySelectorAll('[data-testid="copy-ssh-url-button"], [data-testid="copy-http-url-button"]'),n=document.querySelectorAll("#copy-ssh-url-input, #copy-http-url-input"),a=document.querySelectorAll(".clone-options-dropdown > li > a");let t=document.querySelector(".mobile-git-clone .clone-dropdown-btn"),e=document.querySelectorAll(".dropdown-menu-inner-content");var c=window.location.pathname;let o="git clone ",l;function d(){t.dataset.clipboardText=o+t.dataset.clipboardText,e.forEach(t=>{t.innerText=o+t.innerText})}if(c.includes("merge_requests/")){let r=window.setInterval(()=>{var t,e,o;(l=document.querySelector(".merge-request-details .btn-default-tertiary"))&&(t=l,e=document.querySelector(".detail-page-header-actions"),(o=document.createElement("button")).className="gl-hidden md:gl-block btn gl-button btn-default gl-mr-3",o.innerText="Checkout",t&&o.addEventListener("click",()=>{navigator.clipboard.writeText("git fetch && git checkout "+t.dataset.clipboardText+" && git pull").then(()=>{},()=>{})}),e&&e.prepend(o),clearInterval(r))},300)}try{r.forEach(t=>{var e=t.dataset.clipboardText;t.setAttribute("data-clipboard-text",o+e)}),n.forEach(t=>{t.value=o+t.value}),a.forEach(t=>{t.addEventListener("click",d)}),d()}catch(t){}}})});
